<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carros</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/global.css">
</head>

<body onload="validarCadastro()">
    <header class="header_landing_page">
        <div class="container">
            <div class="cont_links" id="links_header">
                <a href="#banner" class="link ativo">
                    Home
                </a>
                <a href="#universo_carros" class="link">
                    Universo
                </a>
                <a href="#filmes" class="link">
                    Filmes
                </a>
                <a href="#personagens" class="link">
                    Personagens
                </a>
                <a href="escolhaCorredor.html" class="link fontPixel">
                    Copa Pistão
                </a>
                <a href="dashboard.html" style="display: none;" id="link_dashboard" class="link">
                    Dashboard
                </a>
            </div>
            <div class="cont_logo">
                <img class="logo" src="assets/icon/logo_carros.png" alt="">
            </div>
            <div id="container_autenticar" class="cont_btns_autenticar">

            </div>
        </div>
    </header>   
    <section id="banner">
        <video class="video" id="video" width="100%" height="100%" playsinline loop autoplay muted>
            <source src="https://res.cloudinary.com/dsxiq1hsi/video/upload/v1763001384/video_background2_qftixp.mp4"
                type="video/mp4" />
            <source
                src="https://res.cloudinary.com/dsxiq1hsi/video/upload/v1762213631/video_background_banner_qcj2q3.webm"
                type="video/webm" />
        </video>
    </section>
    <section id="universo_carros" class="secoes">
        <div class="container_btns">
            <button class="btn_video textoMedium fontBlack" id="btn_white" onclick="mudarVideo()">Pausar/Despausar vídeo</button>
            <button class="btn_video textoMedium fontWhite" onclick="mudarSom()">Mutar/Desmutar vídeo</button>
        </div>
        <div class="container">
            <div class="cont_titulo">
                <h1 class="titulo fontWhite">Universo Carros</h1> <br>
                <h3 class="subtitulo fontWhite">Um mundo automotivo</h3>
            </div>
            <div class="cont_line_conteudo">
                <img src="https://i.postimg.cc/fLnm3kn5/img-universo-carros.png" alt="">
                <hr>
                <p class="descricao fontWhite">
                    O universo de Carros é um mundo onde só existem veículos com vida própria.
                    Eles falam, trabalham, têm emoções e vivem em cidades e estradas feitas
                    especialmente para eles. A história acompanha Relâmpago McQueen, um carro
                    de corrida famoso que, por acidente, vai parar em Radiator Springs, uma
                    pequena cidade na Rota 66. Lá ele faz novos amigos, aprende sobre humildade,
                    amizade e percebe que a vida é muito mais do que ganhar corridas.
                </p>
            </div>
        </div>
    </section>
    <section id="filmes" class="secoes">
        <div class="container">
            <div class="cont_titulo">
                <div class="cont_hr">
                    <hr id="hr1">
                    <hr id="hr2">
                </div>
                <h1 class="titulo fontWhite">Filmes: Trilogia Carros</h1>
                <hr>
            </div>
            <div class="cont_cards">
                <div class="card">
                    <img src="https://i.postimg.cc/jS1zbZM8/img-carros1-filmes.png" alt="">
                    <div class="cont_line_textos">
                        <div class="cont_column_textos">
                            <p class="textoMedium fontBlack bolder">Carros 1</p>
                            <p class="textoMedium fontBlack">1h 56min</p>
                        </div>
                        <p class="textoMedium fontBlack">2007</p>
                    </div>
                </div>
                <div class="card">
                    <img src="https://i.postimg.cc/JzFbLPpP/img-carros2-filmes.png" alt="">
                    <div class="cont_line_textos">
                        <div class="cont_column_textos">
                            <p class="textoMedium fontBlack bolder">Carros 2</p>
                            <p class="textoMedium fontBlack">1h 56min</p>
                        </div>
                        <p class="textoMedium fontBlack">2007</p>
                    </div>
                </div>
                <div class="card">
                    <img src="https://i.postimg.cc/dVf8Y455/img-carros3-filmes.png" alt="">
                    <div class="cont_line_textos">
                        <div class="cont_column_textos">
                            <p class="textoMedium fontBlack bolder">Carros 3</p>
                            <p class="textoMedium fontBlack">1h 56min</p>
                        </div>
                        <p class="textoMedium fontBlack">2007</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="competidores">
        <div class="container">
            <div class="cont_titulo">
                <h1 class="titulo fontWhite">Competidores</h1>
            </div>
            <div class="cont_competidores">
                <div class="div_competidor" id="relampagoMcqueen">
                    <img src="assets/img/img_simbolo_mcqueen.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Relâmpago McQueen</h3>
                    <img src="assets/img/img_mcqueen_lado.png" alt="">
                </div>
                <div class="div_competidor" id="chickHicks">
                    <img src="assets/img/img_simbolo_chick.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Chick Hicks</h3>
                    <img src="assets/img/img_chick_lado.png" alt="">
                </div>
                <div class="div_competidor" id="jacksonStorm">
                    <img src="assets/img/img_simbolo_storm.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Jackson Storm</h3>
                    <img src="assets/img/img_jackson_lado.png" alt="">
                </div>
                <div class="div_competidor" id="cruzRamirez">
                    <img src="assets/img/img_simbolo_cruz.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Cruz Ramirez</h3>
                    <img src="assets/img/img_cruz_lado.png" alt="">
                </div>
                <div class="div_competidor" id="tomMatter">
                    <img src="assets/img/img_simbolo_mate.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Tom Matter</h3>
                    <img src="assets/img/img_mate_lado.png" alt="">
                </div>
                <div class="div_competidor" id="stripWeathers">
                    <img src="assets/img/img_simbolo_strip.png" alt="">
                    <h3 class="subtitulo boldMedio fontWhite">Strip Weathers</h3>
                    <img src="assets/img/img_strip_lado.png" alt="">
                </div>
            </div>
        </div>
    </section>
    <section id="personagens">
        <div class="container">
            <div class="cont_titulo">
                <h1 class="titulo fontWhite">Personagens</h1>
                <div class="cont_hr">
                    <hr id="hr1">
                    <hr id="hr2">
                </div>
            </div>
            <div class="cont_lines_card">
                <div id="line_cards1" class="line_cards">
                    <h1 class="subtitulo fontWhite bolder">Principais</h1>
                    <div class="cont_slide">
                        <button class="btn_setas" onclick="arrastarPersonagens('esquerda', 0)" id="btn_setas_esquerda_1"
                            value="0">
                            <img class="img_seta" src="assets/icon/icons_setaEsquerda.png" alt="">
                        </button>
                        <div id="cards_principais" class="cont_cards"></div>
                        <button class="btn_setas" onclick="arrastarPersonagens('direita', 0)" id="btn_setas_direita_1"
                            value="0">
                            <img class="img_seta" src="assets/icon/icons_setaDireita.png" alt="">
                        </button>
                    </div>
                </div>
                <div id="line_cards2" class="line_cards">
                    <h1 class="subtitulo fontWhite bolder">Amigos</h1>
                    <div class="cont_slide">
                        <button class="btn_setas" onclick="arrastarPersonagens('esquerda', 1)" id="btn_setas_esquerda_2"
                            value="1">
                            <img class="img_seta" src="assets/icon/icons_setaEsquerda.png" alt="">
                        </button>
                        <div id="cards_amigos" class="cont_cards">

                        </div>
                        <button class="btn_setas" onclick="arrastarPersonagens('direita', 1)" id="btn_setas_direita_2"
                            value="1">
                            <img class="img_seta" src="assets/icon/icons_setaDireita.png" alt="">
                        </button>
                    </div>
                </div>
                <div id="line_cards3" class="line_cards">
                    <h1 class="subtitulo fontWhite bolder">Rivais</h1>
                    <div class="cont_slide">
                        <button class="btn_setas" onclick="arrastarPersonagens('esquerda', 2)" id="btn_setas_esquerda_3"
                            value="2">
                            <img class="img_seta" src="assets/icon/icons_setaEsquerda.png" alt="">
                        </button>
                        <div id="cards_rivais" class="cont_cards"></div>
                        <button class="btn_setas" onclick="arrastarPersonagens('direita', 2)" id="btn_setas_direita_3"
                            value="2">
                            <img class="img_seta" src="assets/icon/icons_setaDireita.png" alt="">
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <section id="lugares_iconicos" class="secoes">
        <div class="container">
            <h1 class="titulo fontWhite">
                Lugares icônicos
            </h1>
            <div class="cont_slider">
                <button class="btn_setas" id="btn_seta_esquerda" onclick="arrastarLugares('esquerda')">
                    <img class="img_seta" src="assets/icon/icons_setaEsquerda.png" alt="">
                </button>
                <div class="cont_lugares" id="container_lugares">

                </div>

                <button class="btn_setas" id="btn_seta_direita" onclick="arrastarLugares('direita')">
                    <img class="img_seta" src="assets/icon/icons_setaDireita.png" alt="">
                </button>
            </div>
        </div>
    </section>
    <section id="minha_experiencia" class="secoes">
        <div class="container">
            <h1 class="titulo fontWhite">Minha experiência</h1>
            <div class="cont_line">
                <p class="textoMedium fontWhite">
                    O filme carros foi o primeiro que eu me lembro de quando assisti, foi uma experiência muito boa com
                    o mundo dos carros de uma forma animada e infantil, foi algo que me conquistou, na época eu só tinha
                    brinquedo de Carros e Toy Story, McQueen foi um exemplo de dedicação no que estou fazendo, o que
                    tento levar para cada ramo da minha vida.
                    Fora os brinquedos, minhas roupas, toalhas, sandálias e até mesmo caixinhas que eu guardo até hoje
                    recitativos da minha igreja com a temática de Carros.
                    Foi um filme que marcou a minha infância e uma das melhores animações que já assisti em toda minha
                    vida.
                </p>
                <hr>
                <img class="img_minha_experiencia" src="https://i.postimg.cc/fLnm3kn5/img-universo-carros.png" alt="">
            </div>
        </div>
    </section>
    <footer id="rodape">
        <div class="container">
            <h1 class="subtitulo fontWhite bolder">Conheça minhas redes sociais!</h1>
            <div class="cont_line">
                <a href="https://github.com/PedroHenriqueCCOK">
                    <div class="cont_column">
                        <img class="logos" src="assets/icon/logo_github.png" alt="">
                        <b class="texto bolder fontWhite">PedroHenriqueCCOK</b>
                    </div>
                </a>
                <div class="cont_column">
                    <img class="foto_pedro" src="https://i.postimg.cc/fb0YTmF9/img-pedro.jpg" alt="">
                    <b class="texto bolder fontWhite">Pedro Henrique de Oliveira</b>
                </div>
                <a href="https://www.linkedin.com/in/pedro-henrique-de-oliveira-67652a279">
                    <div class="cont_column">
                        <img class="logos" src="assets/icon/logo_linkedin.png" alt="">
                        <b class="texto bolder fontWhite  ">Pedro Henrique de Oliveira</b>
                    </div>
                </a>
            </div>
        </div>
    </footer>
</body>

</html>
<script>
    var mutado = true 
    var pausado = false
    function mudarVideo() {
        if (pausado) {
            video.play();             
            pausado = false
        } else{
            video.pause();             
            pausado = true
        }

    }
    function mudarSom() {
        if (mutado) {
            video.muted = false;
            mutado = false
        } else{
            video.muted = true;
            mutado = true
        }
    }
    document.getElementById("banner").addEventListener('click', () => {
              
        video.play();             
    }, { once: true });


    function validarCadastro() {
        console.log(sessionStorage.EMAIL_USUARIO);
        console.log(sessionStorage.NOME_USUARIO);
        console.log(sessionStorage.ID_USUARIO);
        console.log(sessionStorage.HABILITAR_DASHBOARD);
        if (sessionStorage.HABILITAR_DASHBOARD == "1") {
            links_header.innerHTML = `
                <a href="#banner" class="link ativo">
                    Home
                </a>
                <a href="#universo_carros" class="link">
                    Universo
                </a>
                <a href="#filmes" class="link">
                    Filmes
                </a>
                <a href="#personagens" class="link">
                    Personagens
                </a>
                <a href="escolhaCorredor.html" class="link fontPixel">
                    Copa Pistão
                </a>
                <a href="dashboard.html" id="link_dashboard" class="link">
                    Dashboard
                </a>
            `
        } else {
            links_header.innerHTML = `
                <a href="#banner" class="link ativo">
                    Home
                </a>
                <a href="#universo_carros" class="link">
                    Universo
                </a>
                <a href="#filmes" class="link">
                    Filmes
                </a>
                <a href="#personagens" class="link">
                    Personagens
                </a>
                <a href="escolhaCorredor.html" class="link fontPixel">
                    Copa Pistão
                </a>
            `
        }

        if (sessionStorage.EMAIL_USUARIO != undefined && sessionStorage.NOME_USUARIO != undefined && sessionStorage.ID_USUARIO != undefined) {
            container_autenticar.innerHTML = `<a onclick="sair()" class="link">Sair</a>`
        }
        if (sessionStorage.EMAIL_USUARIO == undefined && sessionStorage.NOME_USUARIO == undefined && sessionStorage.ID_USUARIO == undefined) {
            container_autenticar.innerHTML = `
                <a href="cadastro.html" class="link">
                    Cadastro
                </a>
                <hr>
                <a href="login.html" class="link">
                    Login
                </a>
            `
        }



    }
    function sair() {
        sessionStorage.clear();
        mudarBtns()
    }
    function mudarBtns() {
        container_autenticar.innerHTML = `
            <a href="cadastro.html" class="link">
                Cadastro
            </a>
            <hr>
            <a href="login.html" class="link">
                Login
            </a>
        `
        validarCadastro()

    }

    var container_cards = [
        document.getElementById('cards_principais'),
        document.getElementById('cards_amigos'),
        document.getElementById('cards_rivais')
    ]

    function arrastarPersonagens(lado, secao) {
        var larguraTela = container_cards[secao].clientWidth
        console.log(larguraTela);

        if (lado == 'esquerda') {
            container_cards[secao].scrollLeft += -(larguraTela * 0.5)
            console.log("esquerda");


        } else {
            container_cards[secao].scrollLeft += larguraTela * 0.5
            console.log("direita");
        }
    }




    fetch(`/personagens/listar_personagens`)
        .then(response => response.json())
        .then(personagens => {
            for (var i = 0; i < personagens.length; i++) {
                var personagemAtual = personagens[i]
                if (personagemAtual.rotulo == "Principal") {
                    cards_principais.innerHTML += `
                        <div class="card">
                            <img src="${personagemAtual.imagem_index}" alt="">
                            <div class="cont_textos">
                                <h3 class="descricao fontWhite bolder">${personagemAtual.nome}</h3>
                                <p class="textoSmall descricaoPersonagem fontWhite">
                                    ${personagemAtual.descricao}
                                </p>
                                <a href="personagem.html?id=${personagemAtual.id}">
                                    <div class="cont_btn" href="personagem.html?id=${personagemAtual.id}">
                                        <button class="btn_saiba_mais">Saiba mais</button>
                                    </div>
                                </a>
                            </div>
                        </div>
                    `
                } else if (personagemAtual.rotulo == "Amigos") {

                    cards_amigos.innerHTML += `
                        <div class="card">
                            <img src="${personagemAtual.imagem_index}" alt="">
                            <div class="cont_textos">
                                <h3 class="descricao fontWhite bolder">${personagemAtual.nome}</h3>
                                <p class="textoSmall descricaoPersonagem fontWhite">
                                    ${personagemAtual.descricao}
                                </p>
                                <a href="personagem.html?id=${personagemAtual.id}">
                                    <div class="cont_btn">
                                        <button class="btn_saiba_mais">Saiba mais</button>
                                    </div>
                                </a>
                            </div>
                        </div>
                    `

                } else if (personagemAtual.rotulo == "Rival") {
                    cards_rivais.innerHTML += `
                        <div class="card">
                            <img src="${personagemAtual.imagem_index}" alt="">
                            <div class="cont_textos">
                                <h3 class="descricao fontWhite bolder">${personagemAtual.nome}</h3>
                                <p class="textoSmall descricaoPersonagem fontWhite">
                                    ${personagemAtual.descricao}
                                </p>
                                <a href="personagem.html?id=${personagemAtual.id}">
                                    <div class="cont_btn">
                                        <button class="btn_saiba_mais">Saiba mais</button>
                                    </div>
                                </a>
                            </div>
                        </div>
                    `
                }


            }


        }).catch(function (erro) {
            console.log(erro);
            console.log("Houve um erro ao buscar os personagens: ", erro.sqlMessage); // <-- CORRIGIDO
            res.status(500).json(erro.sqlMessage);
        });
    var competidorAtual = 0
    var listaCompetidores = [
        document.getElementById('relampagoMcqueen'),// 0
        document.getElementById('chickHicks'),// 1
        document.getElementById('jacksonStorm'),// 2
        document.getElementById('cruzRamirez'),// 3
        document.getElementById('tomMatter'),// 4
        document.getElementById('stripWeathers')// 5   
    ]
    function trocarCompetidor() {
        listaCompetidores[competidorAtual].style.display = 'none'
        competidorAtual++
        if (competidorAtual >= 6) {
            competidorAtual = 0
        }
        listaCompetidores[competidorAtual].style.display = 'flex'
    }
    setInterval(() => {
        trocarCompetidor()
    }, 5000);



    fetch('json/lugares.json')
        .then(response => response.json())
        .then(lugares => {

            for (var i = 0; i < lugares.length; i++) {
                var lugarAtual = lugares[i]
                container_lugares.innerHTML += `
                    <div name="card_lugar_name" id="card_lugar${lugarAtual.id}" class="card_lugar">
                        <div class="container" name="card_lugar_name" id="conteudo_card${lugarAtual.id}">
                            <div class="cont_textos">
                                <h1 class="subtitulo bolder fontWhite">${lugarAtual.nome}</h1>
                                <p class="descricao fontWhite">${lugarAtual.descricao}</p>
                            </div>
                            <div class="cont_imagem">
                                <img src="${lugarAtual.imagem}" alt="">
                            </div>
                        </div>
                    </div>
                `
                if (lugarAtual.id == 1) {
                    conteudo_card1.style.backgroundColor = "#2B1B1B"
                } else if (lugarAtual.id == 2) {
                    conteudo_card2.style.backgroundColor = "#EA2C94"
                } else {
                    conteudo_card3.style.backgroundColor = "#9D553F"
                }
            }

        })
    function arrastarLugares(lado) {
        var card = document.getElementsByName('card_lugar_name')
        console.log(card);

        var larguraCard = card[0].clientWidth
        console.log(larguraCard);

        if (lado == 'esquerda') {

            container_lugares.scrollLeft += -larguraCard
            console.log("esquerda");


        } else {
            container_lugares.scrollLeft += larguraCard
            console.log("direita");

        }

    }

    var video = document.getElementById('video')

    video.disablePictureInPicture = true;

</script>